Facts, Feeling, Findings  
사실(객관), 느낌(주관), 배운점  
칭찬과 반성

> ### TODAY :: 2021-01-01

* 공부한 내용
    * JPA 강의 듣기
      - 주요 내용 정리
        - 객체지향 설계의 목표는 자율적인 객체들의 협력 공동체를 만드는 것이다. - 객체지향의 사실과 오해
        - 객체를 테이블에 맞추어 데이터 중심으로 모델링하면 협력 관계를 만들 수 없다.
          - 테이블은 외래키로 조인을 사용해서 연관된 테이블을 찾는다.
          - 객체는 참조를 사용해서 연관된 객체를 찾는다.
        - 단방향 연관관계
          - 객체 지향 모델링 (객체 연관관계 사용)
            - 객체에서 ID 대신 연관 객체를 갖는다.
            - @ManyToOne
                - fetch 속성으로 lazy loading을 할 수 있다.
            - @JoinColumn
                - 실제로 조인시 사용할 컬럼명
        - 양방향 연관관계와 연관관계의 주인
          - A에서 B으로, b에서 A로 왔다 갔다 할 수 있게 만드는 것을 양방향 연관관계라 한다.
          - B에서 List 형태로 A를 갖는다.
              - NPE 방지를 위해 new ArrayList()로 초기화 해두는게 관례이다.
              - @OneToMany(mappedBy = "반대쪽의 변수명, b")
          - 테이블의 연관관계에는 방향이라는 개념이 없다. 외래키로 조회가 가능하다.
          - "연관관계"는 테이블에서는 존재하지 않는 개념이기 때문에 연관관계의 주인을 정해줘야 하며, 일대다, 다대일 대부분의 경우 다 쪽에서 주인이 된다.(외래키를 갖는다)
        - 연관관계 주의사항
          - 순수 객체 상태를 고려해서 항상 양쪽에 값을 설정
          - 연관관계 편의 메서드. 한쪽만 사용하는 것이 좋다.
              ```java
              public void changeTeam(Team team) {
                this.team = team;
                team.getMembers().add(this);
              }

              public void addMember(Member member) {
                member.setTeam(this);
                members.add(member);
              }
              ```
          - 양방향 매핑시 무한 루프 조심. 양방향은 필요할 때 추가해도 된다.
